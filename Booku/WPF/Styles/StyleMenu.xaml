<ResourceDictionary xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml">

    <!-- =================================================================== -->
    <!-- STYLE MENU                                                          -->
    <!-- =================================================================== -->
    <!-- Semua warna menggunakan referensi dari StyleColor.xaml              -->
    <!-- =================================================================== -->


    <!-- ===== MENU UTAMA (Menu Bar) ===== -->
    <Style x:Key="styleMenuDasar" TargetType="Menu">
        <Setter Property="Background" Value="{StaticResource clrMenuBg}"/>
        <Setter Property="Foreground" Value="{StaticResource clrMenuFg}"/>
        <Setter Property="FontSize" Value="12"/>
        <Setter Property="FontFamily" Value="Segoe UI"/>
        <Setter Property="Padding" Value="5,4"/>
    </Style>

    <!-- Menu Bar Aplikasi (untuk main window) -->
    <Style x:Key="styleMenuBarAplikasi" BasedOn="{StaticResource styleMenuDasar}" TargetType="Menu">
        <Setter Property="Height" Value="Auto"/>
        <Setter Property="VerticalAlignment" Value="Top"/>
        <Setter Property="DockPanel.Dock" Value="Top"/>
        <Setter Property="BorderBrush" Value="{StaticResource clrMenuBorder}"/>
        <Setter Property="BorderThickness" Value="0,0,0,1"/>
    </Style>


    <!-- ===== MENU ITEM TOP LEVEL (di Menu Bar) ===== -->
    <Style x:Key="styleMenuItemDasar" TargetType="MenuItem">
        <Setter Property="Foreground" Value="{StaticResource clrMenuFg}"/>
        <Setter Property="FontSize" Value="12"/>
        <Setter Property="Padding" Value="10,8"/>
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="MenuItem">
                    <Border x:Name="Border"
                            Background="Transparent"
                            BorderThickness="0"
                            Padding="{TemplateBinding Padding}">
                        <Grid>
                            <ContentPresenter ContentSource="Header"
                                              RecognizesAccessKey="True"
                                              VerticalAlignment="Center"/>
                            <Popup x:Name="PART_Popup"
                                   IsOpen="{Binding IsSubmenuOpen, RelativeSource={RelativeSource TemplatedParent}}"
                                   Placement="Bottom"
                                   AllowsTransparency="True"
                                   Focusable="False"
                                   PopupAnimation="Fade">
                                <Border Background="{StaticResource clrSubMenuBg}"
                                        BorderBrush="{StaticResource clrSubMenuBorder}"
                                        BorderThickness="1"
                                        CornerRadius="0"
                                        Padding="0">
                                    <StackPanel IsItemsHost="True" KeyboardNavigation.DirectionalNavigation="Cycle"/>
                                </Border>
                            </Popup>
                        </Grid>
                    </Border>
                    <ControlTemplate.Triggers>
                        <Trigger Property="IsHighlighted" Value="True">
                            <Setter TargetName="Border" Property="Background" Value="{StaticResource clrMenuHover}"/>
                        </Trigger>
                        <Trigger Property="IsSubmenuOpen" Value="True">
                            <Setter TargetName="Border" Property="Background" Value="{StaticResource clrMenuActive}"/>
                        </Trigger>
                    </ControlTemplate.Triggers>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>

    <!-- Menu Item Top Level untuk Aplikasi Shell -->
    <Style x:Key="styleMenuItemTopLevel" BasedOn="{StaticResource styleMenuItemDasar}" TargetType="MenuItem">
        <Setter Property="Padding" Value="12,10"/>
    </Style>


    <!-- ===== SUB MENU ITEM (dropdown items) ===== -->
    <Style x:Key="styleSubMenuItemDasar" TargetType="MenuItem">
        <Setter Property="Foreground" Value="{StaticResource clrSubMenuFg}"/>
        <Setter Property="FontSize" Value="12"/>
        <Setter Property="Padding" Value="25,8,20,8"/>
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="MenuItem">
                    <Border x:Name="Border"
                            Background="Transparent"
                            BorderThickness="0"
                            Padding="{TemplateBinding Padding}">
                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="Auto" SharedSizeGroup="Icon"/>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="Auto" SharedSizeGroup="Arrow"/>
                            </Grid.ColumnDefinitions>

                            <!-- Icon placeholder -->
                            <ContentPresenter x:Name="Icon"
                                              Grid.Column="0"
                                              ContentSource="Icon"
                                              VerticalAlignment="Center"
                                              Width="16"
                                              Height="16"
                                              Margin="0,0,8,0"/>

                            <!-- Header text -->
                            <ContentPresenter Grid.Column="1"
                                              ContentSource="Header"
                                              RecognizesAccessKey="True"
                                              VerticalAlignment="Center"/>

                            <!-- Arrow untuk submenu -->
                            <Path x:Name="Arrow"
                                  Grid.Column="2"
                                  Data="M0,0 L4,4 L0,8 Z"
                                  Fill="{StaticResource clrSubMenuFg}"
                                  VerticalAlignment="Center"
                                  Margin="10,0,0,0"
                                  Visibility="Collapsed"/>

                            <!-- Submenu Popup -->
                            <Popup x:Name="PART_Popup"
                                   IsOpen="{Binding IsSubmenuOpen, RelativeSource={RelativeSource TemplatedParent}}"
                                   Placement="Right"
                                   HorizontalOffset="0"
                                   VerticalOffset="-1"
                                   AllowsTransparency="True"
                                   Focusable="False"
                                   PopupAnimation="Fade">
                                <Border Background="{StaticResource clrSubMenuBg}"
                                        BorderBrush="{StaticResource clrSubMenuBorder}"
                                        BorderThickness="1"
                                        CornerRadius="0"
                                        Padding="0">
                                    <StackPanel IsItemsHost="True" KeyboardNavigation.DirectionalNavigation="Cycle"/>
                                </Border>
                            </Popup>
                        </Grid>
                    </Border>
                    <ControlTemplate.Triggers>
                        <Trigger Property="IsHighlighted" Value="True">
                            <Setter TargetName="Border" Property="Background" Value="{StaticResource clrSubMenuHover}"/>
                        </Trigger>
                        <Trigger Property="HasItems" Value="True">
                            <Setter TargetName="Arrow" Property="Visibility" Value="Visible"/>
                        </Trigger>
                        <Trigger Property="IsEnabled" Value="False">
                            <Setter Property="Foreground" Value="{StaticResource clrTeksDisabled}"/>
                        </Trigger>
                    </ControlTemplate.Triggers>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>

    <!-- Sub Menu Item standar -->
    <Style x:Key="styleSubMenuItem" BasedOn="{StaticResource styleSubMenuItemDasar}" TargetType="MenuItem">
    </Style>


    <!-- ===== SEPARATOR MENU ===== -->
    <Style x:Key="styleMenuSeparator" TargetType="Separator">
        <Setter Property="Height" Value="1"/>
        <Setter Property="Margin" Value="5,4"/>
        <Setter Property="Background" Value="{StaticResource clrSeparator}"/>
    </Style>


</ResourceDictionary>
