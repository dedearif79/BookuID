<UserControl x:Class="wpfUsc_Loading"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
             xmlns:local="clr-namespace:Booku"
             mc:Ignorable="d" 
             d:DesignHeight="222" d:DesignWidth="333">

    <Grid x:Name="Root" >

        <!-- OVERLAY LOADING (paling atas) -->
        <Grid x:Name="LoadingOverlay"
          Visibility="Collapsed"
          Background="#80000000"
          Panel.ZIndex="9999" >

            <!-- Trik kunci input: overlay menangkap mouse/keyboard -->
            <Grid IsHitTestVisible="True" Focusable="True"  Width="Auto" Height="Auto" >

                <Border Width="260"
                    Padding="18"
                    Background="Transparent"
                    CornerRadius="12"
                    HorizontalAlignment="Center"
                    VerticalAlignment="Center">

                    <StackPanel HorizontalAlignment="Center" >
                        <!-- SPINNER -->
                        <Grid Width="48" Height="48">
                            <Ellipse Width="48" Height="48"
                                 Stroke="#E0E0E0"
                                 StrokeThickness="6" />

                            <Path Stroke="#606060"
                              StrokeThickness="6"
                              StrokeStartLineCap="Round"
                              StrokeEndLineCap="Round"
                              Data="M 24,3 A 21,21 0 0 1 45,24">
                                <Path.RenderTransform>
                                    <RotateTransform x:Name="rtSpinner" CenterX="24" CenterY="24"/>
                                </Path.RenderTransform>
                            </Path>
                        </Grid>

                        <TextBlock x:Name="txtLoading"
                               Text="Memuat data..."
                               Margin="0,12,0,0"
                               FontSize="13"
                               Foreground="#303030"
                               HorizontalAlignment="Center"/>
                    </StackPanel>

                </Border>
            </Grid>

            <Grid.Resources>
                <Storyboard x:Key="SpinStoryboard">
                    <DoubleAnimation Storyboard.TargetName="rtSpinner"
                                 Storyboard.TargetProperty="Angle"
                                 From="0" To="360"
                                 Duration="0:0:0.8"
                                 RepeatBehavior="Forever"/>
                </Storyboard>
            </Grid.Resources>

        </Grid>

    </Grid>


</UserControl>
