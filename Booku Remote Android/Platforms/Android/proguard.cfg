# ============================================
# ProGuard/R8 Rules untuk Booku Remote Android
# ============================================

# Keep Xamarin/MAUI essentials
-keep class mono.** { *; }
-keep class xamarin.** { *; }
-keep class com.microsoft.maui.** { *; }

# Keep application classes
-keep class com.bookuid.remote.** { *; }

# Keep JSON serialization classes (System.Text.Json)
-keepattributes *Annotation*
-keepattributes Signature
-keepattributes InnerClasses
-keepattributes EnclosingMethod

# Don't warn about missing classes
-dontwarn java.lang.invoke.**
-dontwarn javax.**
-dontwarn sun.**

# Optimization
-optimizationpasses 5
-allowaccessmodification
-dontpreverify

# Remove logging in release
-assumenosideeffects class android.util.Log {
    public static *** d(...);
    public static *** v(...);
    public static *** i(...);
}
